local Library = loadstring(game:HttpGet("https://github.com/ActualMasterOogway/Fluent-Renewed/releases/latest/download/Fluent.luau"))()
local SaveManager = loadstring(game:HttpGet("https://raw.githubusercontent.com/ActualMasterOogway/Fluent-Renewed/master/Addons/SaveManager.luau"))()
local InterfaceManager = loadstring(game:HttpGet("https://raw.githubusercontent.com/ActualMasterOogway/Fluent-Renewed/master/Addons/InterfaceManager.luau"))()

local Window = Library:CreateWindow{
    Title = "ZEN | Free Access",
    SubTitle = "By Godlike",
    TabWidth = 125,
    Size = UDim2.fromOffset(972, 820),
    Resize = true,
    MinSize = Vector2.new(470, 380),
    Acrylic = true,
    Theme = "Vynixu",
    MinimizeKey = Enum.KeyCode.RightControl
}

local Tabs = {
    Main = Window:AddTab({ Title = "Main", Icon = "0" }),
    AutoWeights = Window:AddTab({ Title = "Auto Weights", Icon = "0" }),
    AutoRebirth = Window:AddTab({ Title = "Auto Rebirth", Icon = "0" }),
    AutoKill = Window:AddTab({ Title = "Auto Kill", Icon = "0" }),
    AutoRock = Window:AddTab({ Title = "Auto Rock", Icon = "0" }),
    Game = Window:AddTab({ Title = "Game", Icon = "0" }),
    Webhook = Window:AddTab({ Title = "Webhook", Icon = "0"}),
    Stats = Window:AddTab({ Title = "Stats", Icon = "0" }),
    PlayerStats = Window:AddTab({ Title = "Player Stats", Icon = "0" }),
    Predictions = Window:AddTab({ Title = "Predictions", Icon = "0" }),
    AutoHopper = Window:AddTab({ Title = "Auto Hopper", Icon = "0" }),
    AutoPlay = Window:AddTab({ Title = "Auto Play", Icon = "0" }),
    OtherScripts = Window:AddTab({ Title = "ZEN Scripts", Icon = "0" }),
    Instructions = Window:AddTab({ Title = "Instructions", Icon = "0" }),
    Credits = Window:AddTab({ Title = "Credits", Icon = "0" })
}

Tabs.Main:Paragraph("Aligned Paragraph", {
    Title = "This is all your main functions",
    Content = "Adding More When I Get Ideas",
    TitleAlignment = "Middle",
    ContentAlignment = Enum.TextXAlignment.Center
})

local Input = Tabs.Main:AddInput("SizeChanger", {
    Title = "Size Changer",
    Description = "Enter Size",
    Default = "2",
    Placeholder = "Input Your Size...",
    Numeric = true,
    Finished = true,
    Callback = function(Value)
        selectedSize = Value
        if _G.AutoSize then
            game:GetService("ReplicatedStorage").rEvents.changeSpeedSizeRemote:InvokeServer("changeSize", tonumber(selectedSize))
        end
    end
})

local Toggle = Tabs.Main:CreateToggle("AutoSize", {
    Title = "Auto Set Size",
    Description = "Loop Sets Your Selected Size",
    Default = false,
    Callback = function(Value)
        _G.AutoSize = Value
        while _G.AutoSize do
            game:GetService("ReplicatedStorage").rEvents.changeSpeedSizeRemote:InvokeServer("changeSize", tonumber(selectedSize))
            task.wait(0.1)
        end
    end
})


local selectedSpeed = "125"
local Input = Tabs.Main:CreateInput("SpeedChanger", {
    Title = "Speed Changer",
    Description = "Enter Speed",
    Default = "125",
    Placeholder = "Enter Speed",
    Numeric = true,
    Finished = true,
    Callback = function(Value)
        selectedSpeed = Value
        if _G.AutoSpeed then
            if game.Players.LocalPlayer.Character and game.Players.LocalPlayer.Character:FindFirstChild("Humanoid") then
                game.Players.LocalPlayer.Character.Humanoid.WalkSpeed = tonumber(selectedSpeed)
            end
        end
    end
})

local Toggle = Tabs.Main:CreateToggle("AutoSpeed", {
    Title = "Auto Set Speed",
    Description = "Auto Set ur Choosed Speed",
    Default = false,
    Callback = function(Value)
        _G.AutoSpeed = Value
        while _G.AutoSpeed do
            if game.Players.LocalPlayer.Character and game.Players.LocalPlayer.Character:FindFirstChild("Humanoid") then
                game.Players.LocalPlayer.Character.Humanoid.WalkSpeed = tonumber(selectedSpeed)
            end
            task.wait()
        end
    end
})

Tabs.Main:CreateButton{
    Title = "Auto Lift Gamepass",
    Callback = function()
        local gamepassFolder = game:GetService("ReplicatedStorage").gamepassIds
        local player = game:GetService("Players").LocalPlayer
        for _, gamepass in pairs(gamepassFolder:GetChildren()) do
            local value = Instance.new("IntValue")
            value.Name = gamepass.Name
            value.Value = gamepass.Value
            value.Parent = player.ownedGamepasses
        end
    end
}

Tabs.Main:Paragraph("Aligned Paragraph", {
    Title = "Instantly Equip Your Desired Pets",
    Content = "Adding Loop Auto Equip Later",
    TitleAlignment = "Middle",
    ContentAlignment = Enum.TextXAlignment.Center
})


local function unequipAllPets()
    local petsFolder = game:GetService("Players").LocalPlayer.petsFolder
    for _, folder in pairs(petsFolder:GetChildren()) do
        if folder:IsA("Folder") then
            for _, pet in pairs(folder:GetChildren()) do
                game:GetService("ReplicatedStorage").rEvents.equipPetEvent:fireServer("unequipPet", pet)
            end
        end
    end
    task.wait(.1)
end

local petTypes = {
    ["Swift Samurai"] = "Equip All Swift Samurai",
    ["Tribal Overlord"] = "Equip All Tribal Overlord",
    ["Mighty Monster"] = "Equip All Mighty Monster",
    ["Wild Wizard"] = "Equip All Wild Wizard",
    ["Voltaic Falcon"] = "Equip All Voltaic Falcon",
    ["Electro Bunny"] = "Equip All Electro Bunny",
    ["Magical Pegasus"] = "Equip All Magical Pegasus",
    ["Flaming Hedgehog"] = "Equip All Flaming Hedgehog",
    ["Tundra Dragon"] = "Equip All Tundra Dragon",
    ["Sarge"] = "Equip All Sarge",
    ["Small Fry"] = "Equip all Small Fry",
    ["Speedy Sally"] = "Equip all Speedy Sally",
    ["Chaos Sorcerer"] = "Equip all Chaos Sorcerer"
}

for petName, buttonTitle in pairs(petTypes) do
    Tabs.Main:CreateButton({
        Title = buttonTitle,
        Callback = function()
            unequipAllPets()
            for _, pet in pairs(game:GetService("Players").LocalPlayer.petsFolder.Unique:GetChildren()) do
                if pet.Name == petName then
                    game:GetService("ReplicatedStorage").rEvents.equipPetEvent:fireServer("equipPet", pet)
                end
            end
        end
    })
end

Tabs.AutoWeights:Paragraph("Aligned Paragraph", {
    Title = "This Auto Lifts your desired Weight",
    Content = "Normal Speed",
    TitleAlignment = "Middle",
    ContentAlignment = Enum.TextXAlignment.Center
})

local Toggle = Tabs.AutoWeights:CreateToggle("Weight", {
    Title = "Auto Weight",
    Description = "Auto Dumbell",
    Default = false,
    Callback = function(Value)
        _G.AutoWeight = Value
        if Value then
            local weightTool = game.Players.LocalPlayer.Backpack:FindFirstChild("Weight")
            if weightTool then
                game.Players.LocalPlayer.Character.Humanoid:EquipTool(weightTool)
            end
        else
            local character = game.Players.LocalPlayer.Character
            local equipped = character:FindFirstChild("Weight")
            if equipped then
                equipped.Parent = game.Players.LocalPlayer.Backpack
            end
        end
        while _G.AutoWeight do
            game:GetService("Players").LocalPlayer.muscleEvent:FireServer("rep")
            task.wait(0)
        end
    end
})

local Toggle = Tabs.AutoWeights:CreateToggle("Pushups", {
    Title = "Auto Pushups",
    Description = "Auto Lift Pushups",
    Default = false,
    Callback = function(Value)
        _G.AutoPushups = Value
        if Value then
            local pushupsTool = game.Players.LocalPlayer.Backpack:FindFirstChild("Pushups")
            if pushupsTool then
                game.Players.LocalPlayer.Character.Humanoid:EquipTool(pushupsTool)
            end
        else
            local character = game.Players.LocalPlayer.Character
            local equipped = character:FindFirstChild("Pushups")
            if equipped then
                equipped.Parent = game.Players.LocalPlayer.Backpack
            end
        end
        while _G.AutoPushups do
            game:GetService("Players").LocalPlayer.muscleEvent:FireServer("rep")
            task.wait(0)
        end
    end
})

local Toggle = Tabs.AutoWeights:CreateToggle("Handstands", {
    Title = "Auto Handstands",
    Description = "Auto Lift Handstands",
    Default = false,
    Callback = function(Value)
        _G.AutoHandstands = Value
        if Value then
            local handstandsTool = game.Players.LocalPlayer.Backpack:FindFirstChild("Handstands")
            if handstandsTool then
                game.Players.LocalPlayer.Character.Humanoid:EquipTool(handstandsTool)
            end
        else
            local character = game.Players.LocalPlayer.Character
            local equipped = character:FindFirstChild("Handstands")
            if equipped then
                equipped.Parent = game.Players.LocalPlayer.Backpack
            end
        end
        while _G.AutoHandstands do
            game:GetService("Players").LocalPlayer.muscleEvent:FireServer("rep")
            task.wait(0)
        end
    end
})

local Toggle = Tabs.AutoWeights:CreateToggle("Situps", {
    Title = "Auto Situps",
    Description = "Auto Lift Situps",
    Default = false,
    Callback = function(Value)
        _G.AutoSitups = Value
        if Value then
            local situpsTool = game.Players.LocalPlayer.Backpack:FindFirstChild("Situps")
            if situpsTool then
                game.Players.LocalPlayer.Character.Humanoid:EquipTool(situpsTool)
            end
        else
            local character = game.Players.LocalPlayer.Character
            local equipped = character:FindFirstChild("Situps")
            if equipped then
                equipped.Parent = game.Players.LocalPlayer.Backpack
            end
        end
        while _G.AutoSitups do
            game:GetService("Players").LocalPlayer.muscleEvent:FireServer("rep")
            task.wait(0)
        end
    end
})

Tabs.AutoWeights:Paragraph("Aligned Paragraph", {
    Title = "Auto lifts Your Desired Weight",
    Content = "Fast Speed",
    TitleAlignment = "Middle",
    ContentAlignment = Enum.TextXAlignment.Center
})

local Toggle = Tabs.AutoWeights:CreateToggle("ToolSpeed", {
    Title = "Faster Edition to the Tools",
    Description = "Ill Make Individual Later",
    Default = false,
    Callback = function(Value)
        _G.FastTools = Value
        local defaultSpeeds = {
            {
                "Punch",
                "attackTime",
                Value and 0 or 0.1
            },
            {
                "Ground Slam",
                "attackTime",
                Value and 0 or 6
            },
            {
                "Stomp",
                "attackTime",
                Value and 0 or 7
            },
            {
                "Handstands",
                "repTime",
                Value and 0 or 1
            },
            {
                "Pushups",
                "repTime",
                Value and 0 or 1
            },
            {
                "Weight",
                "repTime",
                Value and 0 or 1
            },
            {
                "Situps",
                "repTime",
                Value and 0 or 1
            }
        }
        local player = game.Players.LocalPlayer
        local backpack = player:WaitForChild("Backpack")
        for _, toolInfo in ipairs(defaultSpeeds) do
            local tool = backpack:FindFirstChild(toolInfo[1])
            if tool and tool:FindFirstChild(toolInfo[2]) then
                tool[toolInfo[2]].Value = toolInfo[3]
            end
            local equippedTool = player.Character and player.Character:FindFirstChild(toolInfo[1])
            if equippedTool and equippedTool:FindFirstChild(toolInfo[2]) then
                equippedTool[toolInfo[2]].Value = toolInfo[3]
            end
        end
    end
})

Tabs.AutoWeights:Paragraph("Aligned Paragraph", {
    Title = "This Auto Uses Machines",
    Content = "Ill Add Auto Use in safe place later",
    TitleAlignment = "Middle",
    ContentAlignment = Enum.TextXAlignment.Center
})

local function pressE()
    local vim = game:GetService("VirtualInputManager")
    vim:SendKeyEvent(true, "E", false, game)
    task.wait(.1)
    vim:SendKeyEvent(false, "E", false, game)
end

local function autoLift()
    while getgenv().working and task.wait() do
        game:GetService("Players").LocalPlayer.muscleEvent:FireServer("rep")
    end
end

local function teleportAndStart(machineName, position)
    if game.Players.LocalPlayer.Character and game.Players.LocalPlayer.Character:FindFirstChild("HumanoidRootPart") then
        game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame = position
        task.wait(.1)
        pressE()
        autoLift()
    end
end

local locations = {
    ["Frost Gym"] = true,
    ["Mythical Gym"] = true,
    ["Eternal Gym"] = true,
    ["Legend Gym"] = true,
    ["Muscle King Gym"] = true,
    ["Jungle Gym"] = true
}

local locationsList = {
    "Frost Gym",
    "Mythical Gym",
    "Eternal Gym",
    "Legend Gym",
    "Muscle King Gym",
    "Jungle Gym"
}

local workoutPositions = {
    ["Bench Press"] = {
        ["Frost Gym"] = CFrame.new(-3009, 38, -338),
        ["Mythical Gym"] = CFrame.new(2369, 38, 1243),
        ["Eternal Gym"] = CFrame.new(-7174, 45, -1106),
        ["Legend Gym"] = CFrame.new(4109, 1020, -3803),
        ["Muscle King Gym"] = CFrame.new(-8590.06152, 46.0167427, -6043.34717),
        ["Jungle Gym"] = CFrame.new(-8629.88086, 64.8842468, 1855.03467)
    },
    ["Squat"] = {
        ["Frost Gym"] = CFrame.new(-2721, 29, -592),
        ["Mythical Gym"] = CFrame.new(2487, 30, 848),
        ["Legend Gym"] = CFrame.new(4304, 1020, -4123),
        ["Muscle King Gym"] = CFrame.new(-8759, 44, -6044),
        ["Jungle Gym"] = CFrame.new(-8374.25586, 34.5933418, 2932.44995)
    },
    ["Deadlift"] = {
        ["Frost Gym"] = CFrame.new(-2918, 40, -210),
        ["Mythical Gym"] = CFrame.new(2489.21484, 3.67686629, 849.051025),
        ["Legend Gym"] = CFrame.new(4532, 1023, -4003),
        ["Muscle King Gym"] = CFrame.new(-8773, 50, -5664),
        ["Jungle Gym"] = CFrame.new(-8678.05566, 14.5030098, 2089.25977) -- Fixed syntax
    },
    ["Boulder"] = {
        ["Mythical Gym"] = CFrame.new(2667, 46, 1203),
        ["Legend Gym"] = CFrame.new(4189, 1010, -3904),
        ["Muscle King Gym"] = CFrame.new(-8940.12402, 13.1642084, -5699.13477),
        ["Jungle Gym"] = CFrame.new(-8617, 37, 2677)
    }
}

local workoutTypes = {
    "Bench Press",
    "Squat",
    "Deadlift",
    "Boulder"
}

for _, workoutType in ipairs(workoutTypes) do
    local dropdown = Tabs.AutoWeights:CreateDropdown(workoutType .. " dropdown", {
        Title = "Select " .. workoutType,
        Description = "Choose Your Training Location",
        Values = locationsList,
        Multi = false,
        Default = 1,
        Callback = function(Value)
            _G["select" .. string.lower(string.gsub(workoutType, " ", ""))] = Value
        end
    })
    local toggle = Tabs.AutoWeights:CreateToggle(workoutType .. " Toggle", {
        Title = "Farm " .. workoutType,
        Description = "Auto Trains " .. workoutType,
        Default = false,
        Callback = function(Value)
            getgenv().working = Value
            if Value then
                local selected = _G["select" .. string.lower(string.gsub(workoutType, " ", ""))]
                if workoutPositions[workoutType][selected] then
                    teleportAndStart(workoutType, workoutPositions[workoutType][selected])
                end
            end
        end
    })
end

Tabs.AutoRebirth:Paragraph("Aligned Paragraph", {
    Title = "This Is The Basic Auto Rebirth",
    Content = "Will Improve In Future Updates",
    TitleAlignment = "Middle",
    ContentAlignment = Enum.TextXAlignment.Center
})

local targetInput = Tabs.AutoRebirth:CreateInput("TargetRebirth", {
	Title = "Target Rebirth Amount",
	Description = "Rebirths Till a Certain Point",
	Default = "1",
	Placeholder = "Enter amount...",
	Numeric = true,
	Finished = true,
	Callback = function(Value)
		targetRebirthValue = tonumber(Value) or 1
		updateStats()
	end
})

local targetRebirthLoop = nil
local targetToggle = Tabs.AutoRebirth:CreateToggle("AutoRebirthTarget", {
	Title = "Auto Rebirth (Target)",
	Description = "Automatically rebirth until target is reached",
	Default = false,
	Callback = function(Value)
		if Value then
			targetRebirthLoop = task.spawn(function()
				while task.wait(0.1) do
					if game.Players.LocalPlayer.leaderstats.Rebirths.Value >= targetRebirthValue then
						targetToggle:SetValue(false)
						break
					end
					game:GetService("ReplicatedStorage").rEvents.rebirthRemote:InvokeServer("rebirthRequest")
				end
			end)
		else
			if targetRebirthLoop then
				task.cancel(targetRebirthLoop)
				targetRebirthLoop = nil
			end
		end
	end
})
